<!-- <div *ngIf="!Loading && listaT6.length > 0"> -->
<div *ngIf="$any(this).datosBusqueda && !Loading">

   

<p-toast></p-toast>

<div class="max-w-4xl mx-auto p-6">
  <div class="bg-white rounded-lg shadow-lg p-8 border-t-4 border-emerald-500 mb-6">
    <p class="text-xl font-bold text-gray-800 uppercase tracking-tight text-center mb-2">
      Punto De Contacto
    </p>
      <div class="flex flex-col items-center justify-center mt-6">
      <span class="text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2">
        Seleccionar Espacio
      </span>
      <p-cascadeSelect 
        [(ngModel)]="espacioSeleccionado" 
        [options]="opcionesEspacios" 
        optionLabel="name" 
        placeholder="Seleccione un Espacio" 
        (onChange)="onEspacioChange($event)"
        panelStyleClass="max-h-[300px] overflow-y-auto" 
        [style]="{'width': '100%', 'max-width': '400px', 'border-radius': '12px'}">
      </p-cascadeSelect>
    </div>




<div class="max-w-5xl mx-auto p-4 lg:p-8">
  
  <div *ngIf="Loading" class="flex flex-col items-center justify-center min-h-[400px]">
    <div class="animate-spin rounded-full h-12 w-12 border-4 border-emerald-100 border-t-emerald-500 mb-4"></div>
    <p class="text-emerald-700 font-bold animate-pulse">Cargando datos de exhibición...</p>
  </div>

  <div *ngIf="!Loading && listaT6.length > 0">
    
<div *ngFor="let espacio of listaT6" class="mb-10">

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 max-h-[560px] overflow-y-auto">
    
    <div *ngFor="let punto of espacio.puntos" 
         class="bg-white border border-gray-100 rounded-2xl p-5 shadow-sm hover:shadow-md transition-shadow flex flex-col">
      
      <div class="border-b border-gray-100 pb-3 mb-4">
        <span class="block text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1">
          Punto de Contacto
        </span>
        <span class="text-xl font-bold text-gray-800">
          POC #{{ punto.idpoc.split('-')[1] }}
        </span>
      </div>

      <div class="flex-grow">
        <p class="text-[11px] font-bold text-emerald-500 uppercase mb-3 flex items-center">
          <i class="pi pi-list mr-2"></i>
          Categorías Registradas
        </p>
        
        <div class="space-y-3">
          <div *ngFor="let item of punto.detalles" 
               class="bg-gray-50 rounded-lg p-3 border-l-4 border-emerald-400 hover:bg-emerald-50 transition-colors">
            <span class="block text-xs font-bold text-gray-700 leading-tight">
              {{ item.ncat }}
            </span>
            <span class="text-[9px] font-mono text-gray-400 mt-1 block">
              REF ID: {{ item.id }}
            </span>
          </div>
        </div>
      </div>

    </div> </div> </div>

  <div *ngIf="!Loading && listaT6.length === 0" 
       class="bg-white rounded-3xl border-2 border-dashed border-gray-200 p-20 text-center flex flex-col items-center">
    <div class="bg-gray-50 p-6 rounded-full mb-4">
      <i class="pi pi-search text-gray-300 text-5xl"></i>
    </div>
    <h2 class="text-xl font-bold text-gray-800 uppercase tracking-tight">No hay registros</h2>
    <p class="text-gray-400 text-sm mt-2 max-w-xs">
      No se encontraron puntos de contacto para los criterios seleccionados.
    </p>
  </div>

</div>

  </div>
</div>
