
<p-toast></p-toast>

<div *ngIf="!Loading; else loadingTemplate" class="p-5">
  <div class="grid grid-cols-[repeat(auto-fill,minmax(250px,1fr))] gap-5">
    
    <div *ngFor="let foto of listaFotos" 
         class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-md transition-hover hover:shadow-lg">
      
      <div class="w-full h-[200px] bg-gray-100">
        <img [src]="foto.urlCompleta" 
             class="w-full h-full object-cover"
             alt="Foto encuesta" 
             (error)="foto.urlCompleta = 'assets/no-image.png'">
      </div>
      
      <div class="p-4">
        <p class="text-sm text-gray-600">
          <strong class="text-gray-800">Espacio:</strong> {{ foto.espacio }}
        </p>
        
        <p class="text-sm font-semibold mt-3 mb-2 text-gray-700">Categor√≠as:</p>
        
        <div class="flex flex-wrap gap-1.5">
          <span *ngFor="let cat of foto.categorias" 
                class="bg-emerald-500 text-white text-[11px] px-2.5 py-0.5 rounded-full font-medium">
            Cat {{ cat }}
          </span>
        </div>
      </div>

    </div>
  </div>
</div>

<ng-template #loadingTemplate>
  <div class="flex flex-col items-center justify-center min-h-[300px] text-gray-500">
    <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
    <p class="font-medium">Cargando fotos...</p>
  </div>
</ng-template>